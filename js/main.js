"use strict";var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function checkIsIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}if(checkIsIE()&&document.querySelector("body").classList.add("is-IE"),isMobile.any()&&document.querySelector("body").classList.add("is-touch"),testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp-compatible")})),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("wrapper--was-loaded"),location.hash){var hsh=location.hash.replace("#","");document.querySelector(".popup_"+hsh)?popup_open(hsh):document.querySelector("div."+hsh)&&gotoElm(document.querySelector("."+hsh),500,"")}var bodyElm=document.querySelector("body"),blockSectors=document.querySelectorAll("._scr-sector"),itemsSectors=document.querySelectorAll("._scr-item");let sectorMinHeight=750;function scrollOnDemaind(){bodyElm.setAttribute("data-scroll",pageYOffset);var e=document.querySelector("header.header");if(bodyElm.setAttribute("data-scroll",pageYOffset),pageYOffset>10?e.classList.add("_scroll"):e.classList.remove("_scroll"),blockSectors.length>0)for(var t=0;t<blockSectors.length;t++){let e=blockSectors[t];var o=offset(e).top,n=e.offsetHeight;pageYOffset>o-window.innerHeight/1.5&&pageYOffset<o+n-window.innerHeight/1.5?e.classList.add("_scr-sector--active"):e.classList.contains("_scr-sector--active")&&e.classList.remove("_scr-sector--active"),pageYOffset>o-window.innerHeight/2&&pageYOffset<o+n-window.innerHeight/2?e.classList.contains("_scr-sector--current")||e.classList.add("_scr-sector--current"):e.classList.contains("_scr-sector--current")&&e.classList.remove("_scr-sector--current")}if(itemsSectors.length>0)for(t=0;t<itemsSectors.length;t++){let e=itemsSectors[t],o=offset(e).top,n=e.offsetHeight;pageYOffset>o-window.innerHeight/1.5&&pageYOffset<o+n-window.innerHeight/1.5?(e.classList.add("is-activated"),scrollOnLoadItem(e)):e.classList.remove("is-activated")}}function scrollOnLoadItem(e){if(e.classList.contains("_load-map")&&!e.classList.contains("_loaded-map")){document.getElementById("map")&&(e.classList.add("_loaded-map"),map())}}window.addEventListener("scroll",scrollOnDemaind),setTimeout((function(){scrollOnDemaind()}),100);let linksGotoBlock=document.querySelectorAll("._goto-block");if(linksGotoBlock){let e=[];for(var loopGotoBlock=function(t){let o=linksGotoBlock[t],n=o.getAttribute("href").replace("#","");""==n||~e.indexOf(n)||e.push(n),o.addEventListener("click",(function(e){document.querySelector(".menu__body--is-activated")&&(closeMenu(),removeLockFromBody(500)),gotoElm(document.querySelector("."+n),300),e.preventDefault()}))},i=0;i<linksGotoBlock.length;i++)loopGotoBlock(i);window.addEventListener("scroll",(function(t){let o=document.querySelectorAll("._goto-block.is-activated");if(o)for(var n=0;n<o.length;n++){o[n].classList.remove("is-activated")}for(n=0;n<e.length;n++){let t=e[n],o=document.querySelector("."+t);if(o){let e=offset(o).top,l=o.offsetHeight;if(pageYOffset>e-window.innerHeight/3&&pageYOffset<e+l-window.innerHeight/3){let e=document.querySelectorAll('._goto-block[href="#'+t+'"]');for(n=0;n<e.length;n++){e[n].classList.add("is-activated")}}}}}))}var gotoLinks=document.querySelectorAll(".goto-on-click");if(gotoLinks){var loopGoto=function(e){let t=gotoLinks[e];t.addEventListener("click",(function(e){let o=t.getAttribute("href").replace("#","");gotoElm(document.querySelector("."+o),300),e.preventDefault()}))};for(i=0;i<gotoLinks.length;i++)loopGoto(i)}function gotoElm(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n={speedAsDuration:!0,speed:t,header:"header",offset:o},l=new SmoothScroll;l.animateScroll(e,"",n)}function offset(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),document.addEventListener("wheel",preventDefault,{passive:!1}),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),document.removeEventListener("wheel",preventDefault,{passive:!1}),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function preventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){}var buttons=document.querySelectorAll('button[type="submit"],input[type="submit"]');if(buttons)for(i=0;i<buttons.length;i++){buttons[i].addEventListener("click",doSubmit)}function doSubmit(){var e=0,t=event.target.closest("form"),o=t.querySelectorAll(".data-required");if(o)for(var n=0;n<o.length;n++)e+=validateForm(o[n]);if(0==e)cleanForm(t);else{let e=t.querySelectorAll(".validating-error");e&&t.classList.contains("goto-error")&&gotoElm(e[0],1e3,50),event.preventDefault()}}function validateForm(e){var t=0,o=e.getAttribute("data-value");if("email"==e.getAttribute("name")||e.classList.contains("_email")){if(e.value!=o){var n=e.value.replace(" ","");e.value=n}validateEmail(e)||e.value==o?(form_add_error(e),t++):form_remove_error(e)}else"checkbox"==e.getAttribute("type")&&0==e.checked||""==e.value||e.value==o?(form_add_error(e),t++):form_remove_error(e);return t}function validateEmail(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function form_add_error(e){e.classList.add("_error"),e.parentElement.classList.add("_error");var t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t);var o=e.getAttribute("data-error");o&&""!=o&&e.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+o+"</div>")}function form_remove_error(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error");var t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t)}function cleanForm(e){for(var t=e.querySelectorAll("input,textarea"),o=0;o<t.length;o++){var n=t[o];n.parentElement.classList.remove("_focus"),n.classList.remove("_focus"),n.value=n.getAttribute("data-value")}var l=e.querySelectorAll("select");if(t.length>0)for(var s=0;s<l.length;s++){var r=l[s],i=r.getAttribute("data-default");r.value=i,select_item(r)}}var selects=document.querySelectorAll("select");function selects_init(){for(var e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){var t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(var o=0;o<t.length;o++){t[o].classList.remove("_active")}}function select_init(e){var t=e.parentElement,o=e.getAttribute("class"),n=e.querySelector("option:checked");e.setAttribute("data-default",n.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),e.parentElement.querySelector(".select").append(e),select_item(e)}function select_item(e){var t=e.parentElement,o=t.querySelector(".select__item"),n=e.querySelectorAll("option"),l=e.querySelector("option:checked").text,s=e.getAttribute("data-type");o&&o.remove();var r="";r="input"==s?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+l+'" data-error="Ошибка" data-value="'+l+'" class="select__input"></div>':'<div class="select__value icon-select-arrow">'+l+"</div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+r+'</div><div class="select__options">'+select_get_options(n)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){var o=t.querySelector(".select__item"),n=t.querySelector(".select__options"),l=t.querySelectorAll(".select__option"),s=e.getAttribute("data-type"),r=t.querySelector(".select__input");o.addEventListener("click",(function(){for(var e=document.querySelectorAll(".select"),l=0;l<e.length;l++){var s=e[l];s!=o.closest(".select")&&s.classList.remove("_active")}slideToggle(n,100),t.classList.toggle("_active")}));for(var i=function(o){var n=l[o],i=n.getAttribute("data-value"),c=n.innerHTML;"input"==s?r.addEventListener("keyup",select_search):n.getAttribute("data-value")==e.value&&(n.style.display="none"),n.addEventListener("click",(function(){for(var o=0;o<l.length;o++){l[o].style.display="block"}"input"==s?(r.value=c,e.value=i):(t.querySelector(".select__value").innerHTML=c,e.value=i,n.style.display="none")}))},c=0;c<l.length;c++)i(c)}function select_get_options(e){if(e){for(var t="",o=0;o<e.length;o++){var n=e[o],l=n.value;if(""!=l)t=t+'<div data-value="'+l+'" class="select__option">'+n.text+"</div>"}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");for(var t=e.target.closest(".select ").querySelectorAll(".select__option"),o=e.target.value.toUpperCase(),n=0;n<t.length;n++){var l=t[n];(l.textContent||l.innerText).toUpperCase().indexOf(o)>-1?l.style.display="":l.style.display="none"}}function selects_update_all(){var e=document.querySelectorAll("select");if(e)for(var t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();var inputs=document.querySelectorAll("input[data-value],textarea[data-value]");if(inputs.length>0)for(var _loop6=function(e){var t=inputs[e],o=t.getAttribute("data-value");""==t.value&&""!=o&&(t.value=o),""!=t.value&&t.value!=o&&input_focus_add(t),t.addEventListener("focus",(function(e){t.value==o&&(input_focus_add(t),t.value=""),t.classList.contains("_date")&&(t.classList.add("_mask"),Inputmask("99-99-9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(t,o)}}).mask(t)),t.classList.contains("_phone")&&(t.classList.add("_mask"),Inputmask("+375 (99) 9999999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(t,o)}}).mask(t)),t.classList.contains("_digital")&&(t.classList.add("_mask"),Inputmask("9{1,}",{placeholder:"",clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(t,o)}}).mask(t)),form_remove_error(t)})),t.addEventListener("blur",(function(e){""==t.value&&(t.value=o,input_focus_remove(t),t.classList.contains("_mask")&&input_clear_mask(t,o))})),t.classList.contains("_date")&&datepicker(t,{customDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],customMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],formatter:function(e,t,o){var n=t.toLocaleDateString();e.value=n}})},_index23=0;_index23<inputs.length;_index23++)_loop6(_index23);function input_focus_add(e){e.classList.add("_focus"),e.parentElement.classList.add("_focus")}function input_focus_remove(e){e.classList.remove("_focus"),e.parentElement.classList.remove("_focus")}function input_clear_mask(e,t){e.inputmask.remove(),e.value=t,input_focus_remove(e)}if(null!=document.querySelector(".icon-menu")){let e=document.querySelector(".icon-menu"),t=500,o=document.querySelector(".menu__body"),n=document.querySelector("body");e.addEventListener("click",(function(l){n.classList.contains("_wait")||(setBodyLocked(t),e.classList.toggle("icon-menu--is-activated"),o.classList.toggle("menu__body--is-activated"),e.classList.contains("icon-menu--is-activated")&&document.documentElement.addEventListener("click",(function(e){e.target.closest(".header__menu")||closeMenu()})))}))}function closeMenu(){let e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e.classList.remove("icon-menu--is-activated"),t.classList.remove("menu__body--is-activated")}function setBodyLocked(e){document.querySelector("body").classList.contains("body--is-locked")?removeLockFromBody(e):addLockToBody(e)}function removeLockFromBody(e){let t=document.querySelector("body");if(!t.classList.contains("body--is-waiting")){let o=document.querySelectorAll(".lock-padding");setTimeout((function(){for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("body--is-locked")}),e),t.classList.add("body--is-waiting"),setTimeout((function(){t.classList.remove("body--is-waiting")}),e)}}function addLockToBody(e){let t=document.querySelector("body");if(!t.classList.contains("body--is-waiting")){let o=document.querySelectorAll(".lock-padding");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("body--is-locked"),t.classList.add("body--is-waiting"),setTimeout((function(){t.classList.remove("body--is-waiting")}),e)}}